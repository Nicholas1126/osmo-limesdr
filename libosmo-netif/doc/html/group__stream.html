<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libosmo-netif: Osmocom Stream Socket</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libosmo-netif
   &#160;<span id="projectnumber">0.4.0.25-e380</span>
   </div>
   <div id="projectbrief">Osmocom network interface library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__stream.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Osmocom Stream Socket</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:stream_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8c.html">stream.c</a></td></tr>
<tr class="memdesc:stream_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Osmocom stream socket helpers. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga2693c0cc5c6222dd9ed42c8c4bf8aec8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2693c0cc5c6222dd9ed42c8c4bf8aec8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga2693c0cc5c6222dd9ed42c8c4bf8aec8">msgb_sctp_ppid</a>(msg)&#160;&#160;&#160;(msg)-&gt;cb[3]</td></tr>
<tr class="memdesc:ga2693c0cc5c6222dd9ed42c8c4bf8aec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the SCTP PPID from the msgb control buffer. <br /></td></tr>
<tr class="separator:ga2693c0cc5c6222dd9ed42c8c4bf8aec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2c359892ad63309b59a4b402f6a3e81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac2c359892ad63309b59a4b402f6a3e81"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gac2c359892ad63309b59a4b402f6a3e81">msgb_sctp_stream</a>(msg)&#160;&#160;&#160;(msg)-&gt;cb[4]</td></tr>
<tr class="memdesc:gac2c359892ad63309b59a4b402f6a3e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the SCTP Stream ID from the msgb control buffer. <br /></td></tr>
<tr class="separator:gac2c359892ad63309b59a4b402f6a3e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f55d0e90dc8cc6b2287312435cdde48"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9f55d0e90dc8cc6b2287312435cdde48"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSG_NOSIGNAL</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga9f55d0e90dc8cc6b2287312435cdde48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae24e1d7bb86fa7bd90b7f38e0c686119"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae24e1d7bb86fa7bd90b7f38e0c686119"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_CLI_F_RECONF</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:gae24e1d7bb86fa7bd90b7f38e0c686119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccd8b711532f890d484fb9099f555855"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaccd8b711532f890d484fb9099f555855"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_CLI_F_NODELAY</b>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:gaccd8b711532f890d484fb9099f555855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1646f040c66d93634755e299dee3ec2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf1646f040c66d93634755e299dee3ec2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_SRV_F_RECONF</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:gaf1646f040c66d93634755e299dee3ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeec66e7d4031dc9606558e6692a805ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaeec66e7d4031dc9606558e6692a805ba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_SRV_F_NODELAY</b>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:gaeec66e7d4031dc9606558e6692a805ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ef7f446bbf20daa6188bdaade5b2e94"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3ef7f446bbf20daa6188bdaade5b2e94"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_SRV_F_FLUSH_DESTROY</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:ga3ef7f446bbf20daa6188bdaade5b2e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaefb240abea020971d9a384b5e39826e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaefb240abea020971d9a384b5e39826e5"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_state</b> { <b>STREAM_CLI_STATE_NONE</b> = 0, 
<b>STREAM_CLI_STATE_CONNECTING</b> = 1, 
<b>STREAM_CLI_STATE_CONNECTED</b> = 2, 
<b>STREAM_CLI_STATE_MAX</b>
 }</td></tr>
<tr class="separator:gaefb240abea020971d9a384b5e39826e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaad262988c7ac365566f03843c560f892"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaad262988c7ac365566f03843c560f892">osmo_stream_srv_link_create</a> (void *ctx)</td></tr>
<tr class="memdesc:gaad262988c7ac365566f03843c560f892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an Osmocom Stream Server Link A Stream Server Link is the listen()+accept() "parent" to individual Stream Servers.  <a href="#gaad262988c7ac365566f03843c560f892">More...</a><br /></td></tr>
<tr class="separator:gaad262988c7ac365566f03843c560f892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga882acaaa5935422b0e09a2ce8c8019ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga882acaaa5935422b0e09a2ce8c8019ec">osmo_stream_srv_link_destroy</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga882acaaa5935422b0e09a2ce8c8019ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the stream server link. Closes + Releases Memory.  <a href="#ga882acaaa5935422b0e09a2ce8c8019ec">More...</a><br /></td></tr>
<tr class="separator:ga882acaaa5935422b0e09a2ce8c8019ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41e8ad2c761aaa00313aa11d1f29a3ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga41e8ad2c761aaa00313aa11d1f29a3ed">osmo_stream_srv_link_set_nodelay</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, bool nodelay)</td></tr>
<tr class="memdesc:ga41e8ad2c761aaa00313aa11d1f29a3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the NODELAY socket option to avoid Nagle-like behavior Setting this to nodelay=true will automatically set the NODELAY socket option on any socket established via this server link, before calling the accept_cb()  <a href="#ga41e8ad2c761aaa00313aa11d1f29a3ed">More...</a><br /></td></tr>
<tr class="separator:ga41e8ad2c761aaa00313aa11d1f29a3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacece90116484e34540def69b05c66f57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gacece90116484e34540def69b05c66f57">osmo_stream_srv_link_set_addr</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, const char *addr)</td></tr>
<tr class="memdesc:gacece90116484e34540def69b05c66f57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local address to which we bind.  <a href="#gacece90116484e34540def69b05c66f57">More...</a><br /></td></tr>
<tr class="separator:gacece90116484e34540def69b05c66f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76bbbafd1d8dc9c9ebffd301503b6dd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga76bbbafd1d8dc9c9ebffd301503b6dd9">osmo_stream_srv_link_set_port</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, uint16_t port)</td></tr>
<tr class="memdesc:ga76bbbafd1d8dc9c9ebffd301503b6dd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local port number to which we bind.  <a href="#ga76bbbafd1d8dc9c9ebffd301503b6dd9">More...</a><br /></td></tr>
<tr class="separator:ga76bbbafd1d8dc9c9ebffd301503b6dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2508987133a93863d2a50103004b0f36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga2508987133a93863d2a50103004b0f36">osmo_stream_srv_link_set_proto</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, uint16_t proto)</td></tr>
<tr class="memdesc:ga2508987133a93863d2a50103004b0f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the protocol for the stream server link.  <a href="#ga2508987133a93863d2a50103004b0f36">More...</a><br /></td></tr>
<tr class="separator:ga2508987133a93863d2a50103004b0f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1eea525d4e1e7a24c9c08881994ceb7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga1eea525d4e1e7a24c9c08881994ceb7e">osmo_stream_srv_link_set_accept_cb</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, int(*accept_cb)(struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, int fd))</td></tr>
<tr class="memdesc:ga1eea525d4e1e7a24c9c08881994ceb7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the accept() call-back of the stream server link.  <a href="#ga1eea525d4e1e7a24c9c08881994ceb7e">More...</a><br /></td></tr>
<tr class="separator:ga1eea525d4e1e7a24c9c08881994ceb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ef0f0c85a52c08e8c10d36a8f44e392"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga5ef0f0c85a52c08e8c10d36a8f44e392">osmo_stream_srv_link_set_data</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, void *data)</td></tr>
<tr class="memdesc:ga5ef0f0c85a52c08e8c10d36a8f44e392"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set application private data of the stream server link.  <a href="#ga5ef0f0c85a52c08e8c10d36a8f44e392">More...</a><br /></td></tr>
<tr class="separator:ga5ef0f0c85a52c08e8c10d36a8f44e392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb5d68c2a6a9663f99266c70747bce04"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gacb5d68c2a6a9663f99266c70747bce04">osmo_stream_srv_link_get_data</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:gacb5d68c2a6a9663f99266c70747bce04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get application private data of the stream server link.  <a href="#gacb5d68c2a6a9663f99266c70747bce04">More...</a><br /></td></tr>
<tr class="separator:gacb5d68c2a6a9663f99266c70747bce04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d7b6af7df24e90dc758a088bae6316d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga7d7b6af7df24e90dc758a088bae6316d">osmo_stream_srv_link_get_sockname</a> (const struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga7d7b6af7df24e90dc758a088bae6316d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get description of the stream server link e. g. 127.0.0.1:1234.  <a href="#ga7d7b6af7df24e90dc758a088bae6316d">More...</a><br /></td></tr>
<tr class="separator:ga7d7b6af7df24e90dc758a088bae6316d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b8981351a154c357fcefd39c31ad42a"><td class="memItemLeft" align="right" valign="top">struct osmo_fd *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga7b8981351a154c357fcefd39c31ad42a">osmo_stream_srv_link_get_ofd</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga7b8981351a154c357fcefd39c31ad42a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Osmocom File Descriptor of the stream server link.  <a href="#ga7b8981351a154c357fcefd39c31ad42a">More...</a><br /></td></tr>
<tr class="separator:ga7b8981351a154c357fcefd39c31ad42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga603b89074d3e8c0fb44144ab1864f0d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga603b89074d3e8c0fb44144ab1864f0d4">osmo_stream_srv_link_open</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga603b89074d3e8c0fb44144ab1864f0d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the stream server link. This actually initializes the underlying socket and binds it to the configured ip/port.  <a href="#ga603b89074d3e8c0fb44144ab1864f0d4">More...</a><br /></td></tr>
<tr class="separator:ga603b89074d3e8c0fb44144ab1864f0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad325d97b09c724e830c98d76b890520d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gad325d97b09c724e830c98d76b890520d">osmo_stream_srv_link_close</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:gad325d97b09c724e830c98d76b890520d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the stream server link and unregister from select loop Does not destroy the server link, merely closes it!  <a href="#gad325d97b09c724e830c98d76b890520d">More...</a><br /></td></tr>
<tr class="separator:gad325d97b09c724e830c98d76b890520d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36df4fc3b268efbe4b4f02e51542d543"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga36df4fc3b268efbe4b4f02e51542d543">osmo_stream_srv_create</a> (void *ctx, struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, int fd, int(*cb)(struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn), int(*closed_cb)(struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn), void *data)</td></tr>
<tr class="memdesc:ga36df4fc3b268efbe4b4f02e51542d543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Stream Server inside the specified link.  <a href="#ga36df4fc3b268efbe4b4f02e51542d543">More...</a><br /></td></tr>
<tr class="separator:ga36df4fc3b268efbe4b4f02e51542d543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2a0ef01097d964c71e38600b4c078d5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gae2a0ef01097d964c71e38600b4c078d5">osmo_stream_srv_get_data</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:gae2a0ef01097d964c71e38600b4c078d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get application private data of the stream server.  <a href="#gae2a0ef01097d964c71e38600b4c078d5">More...</a><br /></td></tr>
<tr class="separator:gae2a0ef01097d964c71e38600b4c078d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cf689935bf6ffac4f86f56219d73c8e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga9cf689935bf6ffac4f86f56219d73c8e">osmo_stream_srv_get_master</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga9cf689935bf6ffac4f86f56219d73c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the master (Link) from a Stream Server.  <a href="#ga9cf689935bf6ffac4f86f56219d73c8e">More...</a><br /></td></tr>
<tr class="separator:ga9cf689935bf6ffac4f86f56219d73c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47bbca4f12717db2e6158eefe6310b9b"><td class="memItemLeft" align="right" valign="top">struct osmo_fd *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga47bbca4f12717db2e6158eefe6310b9b">osmo_stream_srv_get_ofd</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga47bbca4f12717db2e6158eefe6310b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Osmocom File Descriptor of the stream server.  <a href="#ga47bbca4f12717db2e6158eefe6310b9b">More...</a><br /></td></tr>
<tr class="separator:ga47bbca4f12717db2e6158eefe6310b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47f18e063f64f22cb74d58d8b7243bed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga47f18e063f64f22cb74d58d8b7243bed">osmo_stream_srv_destroy</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga47f18e063f64f22cb74d58d8b7243bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy given Stream Server This function closes the Stream Server socket, unregisters from select loop, invokes the connection's closed_cb() callback to allow API users to clean up any associated state they have for this connection, and then de-allocates associated memory.  <a href="#ga47f18e063f64f22cb74d58d8b7243bed">More...</a><br /></td></tr>
<tr class="separator:ga47f18e063f64f22cb74d58d8b7243bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8390ce6740e56eb22215e1c5805c95f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga8390ce6740e56eb22215e1c5805c95f1">osmo_stream_srv_set_flush_and_destroy</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga8390ce6740e56eb22215e1c5805c95f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare to send out all pending messages on the connection's Tx queue and then automatically destroy the stream with <a class="el" href="group__stream.html#ga47f18e063f64f22cb74d58d8b7243bed" title="Destroy given Stream Server This function closes the Stream Server socket, unregisters from select lo...">osmo_stream_srv_destroy()</a>. This function disables queuing of new messages on the connection and also disables reception of new messages on the connection.  <a href="#ga8390ce6740e56eb22215e1c5805c95f1">More...</a><br /></td></tr>
<tr class="separator:ga8390ce6740e56eb22215e1c5805c95f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9891663b20714d72f992e44ad1e92eea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga9891663b20714d72f992e44ad1e92eea">osmo_stream_srv_set_data</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn, void *data)</td></tr>
<tr class="memdesc:ga9891663b20714d72f992e44ad1e92eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set application private data of the stream server.  <a href="#ga9891663b20714d72f992e44ad1e92eea">More...</a><br /></td></tr>
<tr class="separator:ga9891663b20714d72f992e44ad1e92eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1589994cf6eab27742cafee6b7fb491"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaa1589994cf6eab27742cafee6b7fb491">osmo_stream_srv_send</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn, struct msgb *msg)</td></tr>
<tr class="memdesc:gaa1589994cf6eab27742cafee6b7fb491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue data to be sent via an Osmocom stream server.  <a href="#gaa1589994cf6eab27742cafee6b7fb491">More...</a><br /></td></tr>
<tr class="separator:gaa1589994cf6eab27742cafee6b7fb491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac86242c41223c525c770ff7e7515d83e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gac86242c41223c525c770ff7e7515d83e">osmo_stream_srv_recv</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn, struct msgb *msg)</td></tr>
<tr class="memdesc:gac86242c41223c525c770ff7e7515d83e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data via Osmocom stream server.  <a href="#gac86242c41223c525c770ff7e7515d83e">More...</a><br /></td></tr>
<tr class="separator:gac86242c41223c525c770ff7e7515d83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa196e78db6ca32abb1473566b4f1b04b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaa196e78db6ca32abb1473566b4f1b04b">osmo_stream_cli_set_nodelay</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, bool nodelay)</td></tr>
<tr class="memdesc:gaa196e78db6ca32abb1473566b4f1b04b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the NODELAY socket option to avoid Nagle-like behavior Setting this to nodelay=true will automatically set the NODELAY socket option on any socket established via <a class="el" href="group__stream.html#ga86b4b9c8e563f8426d3cdae803e3ec38">osmo_stream_cli_open</a> or any re-connect. You have to set this <em>before</em> opening the socket.  <a href="#gaa196e78db6ca32abb1473566b4f1b04b">More...</a><br /></td></tr>
<tr class="separator:gaa196e78db6ca32abb1473566b4f1b04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0038e937cf0f36c59e0e3991523219a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga0038e937cf0f36c59e0e3991523219a1">osmo_stream_cli_set_addr</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, const char *addr)</td></tr>
<tr class="memdesc:ga0038e937cf0f36c59e0e3991523219a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the remote address to which we connect.  <a href="#ga0038e937cf0f36c59e0e3991523219a1">More...</a><br /></td></tr>
<tr class="separator:ga0038e937cf0f36c59e0e3991523219a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8b9f65bebfeb83c6e33d102e9439770"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gab8b9f65bebfeb83c6e33d102e9439770">osmo_stream_cli_set_port</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, uint16_t port)</td></tr>
<tr class="memdesc:gab8b9f65bebfeb83c6e33d102e9439770"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the remote port number to which we connect.  <a href="#gab8b9f65bebfeb83c6e33d102e9439770">More...</a><br /></td></tr>
<tr class="separator:gab8b9f65bebfeb83c6e33d102e9439770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91d57aa94a370520540d7272af66a23b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga91d57aa94a370520540d7272af66a23b">osmo_stream_cli_set_proto</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, uint16_t proto)</td></tr>
<tr class="memdesc:ga91d57aa94a370520540d7272af66a23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the protocol for the stream client socket.  <a href="#ga91d57aa94a370520540d7272af66a23b">More...</a><br /></td></tr>
<tr class="separator:ga91d57aa94a370520540d7272af66a23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70420e7c664cc4c4e69ac4d3476e7f53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga70420e7c664cc4c4e69ac4d3476e7f53">osmo_stream_cli_set_local_addr</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, const char *addr)</td></tr>
<tr class="memdesc:ga70420e7c664cc4c4e69ac4d3476e7f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local address for the socket (to be bound to)  <a href="#ga70420e7c664cc4c4e69ac4d3476e7f53">More...</a><br /></td></tr>
<tr class="separator:ga70420e7c664cc4c4e69ac4d3476e7f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d83e3cf7fdf7eb354c2015ff9bed98a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga4d83e3cf7fdf7eb354c2015ff9bed98a">osmo_stream_cli_set_local_port</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, uint16_t port)</td></tr>
<tr class="memdesc:ga4d83e3cf7fdf7eb354c2015ff9bed98a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local port number for the socket (to be bound to)  <a href="#ga4d83e3cf7fdf7eb354c2015ff9bed98a">More...</a><br /></td></tr>
<tr class="separator:ga4d83e3cf7fdf7eb354c2015ff9bed98a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e94c511d537f63337912bb50fb2dc28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga5e94c511d537f63337912bb50fb2dc28">osmo_stream_cli_set_data</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, void *data)</td></tr>
<tr class="memdesc:ga5e94c511d537f63337912bb50fb2dc28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set application private data of the stream client socket.  <a href="#ga5e94c511d537f63337912bb50fb2dc28">More...</a><br /></td></tr>
<tr class="separator:ga5e94c511d537f63337912bb50fb2dc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade74792afe35f31dd2584c888db3dd62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62">osmo_stream_cli_set_reconnect_timeout</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int timeout)</td></tr>
<tr class="memdesc:gade74792afe35f31dd2584c888db3dd62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the reconnect time of the stream client socket.  <a href="#gade74792afe35f31dd2584c888db3dd62">More...</a><br /></td></tr>
<tr class="separator:gade74792afe35f31dd2584c888db3dd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga606a53840677f3f5200887dc92f5de4d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga606a53840677f3f5200887dc92f5de4d">osmo_stream_cli_get_data</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga606a53840677f3f5200887dc92f5de4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get application private data of the stream client socket.  <a href="#ga606a53840677f3f5200887dc92f5de4d">More...</a><br /></td></tr>
<tr class="separator:ga606a53840677f3f5200887dc92f5de4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecd148ae11f2f619aa52dd2900a15827"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaecd148ae11f2f619aa52dd2900a15827">osmo_stream_cli_get_sockname</a> (const struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:gaecd148ae11f2f619aa52dd2900a15827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the stream client socket description.  <a href="#gaecd148ae11f2f619aa52dd2900a15827">More...</a><br /></td></tr>
<tr class="separator:gaecd148ae11f2f619aa52dd2900a15827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0615daa4aac253a3d530f35fddbc68bd"><td class="memItemLeft" align="right" valign="top">struct osmo_fd *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga0615daa4aac253a3d530f35fddbc68bd">osmo_stream_cli_get_ofd</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga0615daa4aac253a3d530f35fddbc68bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Osmocom File Descriptor of the stream client socket.  <a href="#ga0615daa4aac253a3d530f35fddbc68bd">More...</a><br /></td></tr>
<tr class="separator:ga0615daa4aac253a3d530f35fddbc68bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab588bfd88a3cc775875981e2ee66e295"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gab588bfd88a3cc775875981e2ee66e295">osmo_stream_cli_set_connect_cb</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int(*connect_cb)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli))</td></tr>
<tr class="memdesc:gab588bfd88a3cc775875981e2ee66e295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the call-back function called on connect of the stream client socket.  <a href="#gab588bfd88a3cc775875981e2ee66e295">More...</a><br /></td></tr>
<tr class="separator:gab588bfd88a3cc775875981e2ee66e295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23e5c1799a8225607543de39a56ca449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga23e5c1799a8225607543de39a56ca449">osmo_stream_cli_set_disconnect_cb</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int(*disconnect_cb)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli))</td></tr>
<tr class="memdesc:ga23e5c1799a8225607543de39a56ca449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the call-back function called on disconnect of the stream client socket.  <a href="#ga23e5c1799a8225607543de39a56ca449">More...</a><br /></td></tr>
<tr class="separator:ga23e5c1799a8225607543de39a56ca449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1d1817f25694ea126779262cddf4fbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gad1d1817f25694ea126779262cddf4fbd">osmo_stream_cli_set_read_cb</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int(*read_cb)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli))</td></tr>
<tr class="memdesc:gad1d1817f25694ea126779262cddf4fbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the call-back function called to read from the stream client socket.  <a href="#gad1d1817f25694ea126779262cddf4fbd">More...</a><br /></td></tr>
<tr class="separator:gad1d1817f25694ea126779262cddf4fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11d2615f6197f33073ba7245e5ba95ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga11d2615f6197f33073ba7245e5ba95ee"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee">osmo_stream_cli_reconnect</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga11d2615f6197f33073ba7245e5ba95ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-connect an Osmocom Stream Client If re-connection is enabled for this client (which is the case unless negative timeout was explicitly set via <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> call), we close any existing connection (if any) and schedule a re-connect timer. <br /></td></tr>
<tr class="separator:ga11d2615f6197f33073ba7245e5ba95ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1754a498abc27577a8e0b3b0f236c05b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga1754a498abc27577a8e0b3b0f236c05b">osmo_stream_cli_create</a> (void *ctx)</td></tr>
<tr class="memdesc:ga1754a498abc27577a8e0b3b0f236c05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an Osmocom stream client.  <a href="#ga1754a498abc27577a8e0b3b0f236c05b">More...</a><br /></td></tr>
<tr class="separator:ga1754a498abc27577a8e0b3b0f236c05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d0dac2f390c660c85fa347765f4f45a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga9d0dac2f390c660c85fa347765f4f45a">osmo_stream_cli_destroy</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga9d0dac2f390c660c85fa347765f4f45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a Osmocom stream client (includes close)  <a href="#ga9d0dac2f390c660c85fa347765f4f45a">More...</a><br /></td></tr>
<tr class="separator:ga9d0dac2f390c660c85fa347765f4f45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86b4b9c8e563f8426d3cdae803e3ec38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga86b4b9c8e563f8426d3cdae803e3ec38">osmo_stream_cli_open</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga86b4b9c8e563f8426d3cdae803e3ec38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open connection of an Osmocom stream client By default the client will automatically reconnect after default timeout. To disable this, use <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> before calling this function.  <a href="#ga86b4b9c8e563f8426d3cdae803e3ec38">More...</a><br /></td></tr>
<tr class="separator:ga86b4b9c8e563f8426d3cdae803e3ec38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga127866794591d16a0eb7244f2fe666ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga127866794591d16a0eb7244f2fe666ef">osmo_stream_cli_open2</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int reconnect)</td></tr>
<tr class="memdesc:ga127866794591d16a0eb7244f2fe666ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">DEPRECATED: use <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> or <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee" title="Re-connect an Osmocom Stream Client If re-connection is enabled for this client (which is the case un...">osmo_stream_cli_reconnect()</a> instead! Open connection of an Osmocom stream client.  <a href="#ga127866794591d16a0eb7244f2fe666ef">More...</a><br /></td></tr>
<tr class="separator:ga127866794591d16a0eb7244f2fe666ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad217c1c1b83ac852e090afd49146db19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gad217c1c1b83ac852e090afd49146db19">osmo_stream_cli_close</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:gad217c1c1b83ac852e090afd49146db19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an Osmocom Stream Client.  <a href="#gad217c1c1b83ac852e090afd49146db19">More...</a><br /></td></tr>
<tr class="separator:gad217c1c1b83ac852e090afd49146db19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacf415b97e1184baadeee5c60387422b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaacf415b97e1184baadeee5c60387422b">osmo_stream_cli_send</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, struct msgb *msg)</td></tr>
<tr class="memdesc:gaacf415b97e1184baadeee5c60387422b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue data to be sent via an Osmocom stream client.  <a href="#gaacf415b97e1184baadeee5c60387422b">More...</a><br /></td></tr>
<tr class="separator:gaacf415b97e1184baadeee5c60387422b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06f9743c19068bb720a4949ae8467243"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga06f9743c19068bb720a4949ae8467243">osmo_stream_cli_recv</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, struct msgb *msg)</td></tr>
<tr class="memdesc:ga06f9743c19068bb720a4949ae8467243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data via an Osmocom stream client.  <a href="#ga06f9743c19068bb720a4949ae8467243">More...</a><br /></td></tr>
<tr class="separator:ga06f9743c19068bb720a4949ae8467243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga050d8271074ad3dd37e8014fe287776f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga050d8271074ad3dd37e8014fe287776f"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>sctp_sock_activate_events</b> (int fd)</td></tr>
<tr class="separator:ga050d8271074ad3dd37e8014fe287776f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2b1fa9b64847bc68c83fae9a92d737d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa2b1fa9b64847bc68c83fae9a92d737d"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>setsockopt_nodelay</b> (int fd, int proto, int on)</td></tr>
<tr class="separator:gaa2b1fa9b64847bc68c83fae9a92d737d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2461189e6614fd9a2b69a4821b36187"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf2461189e6614fd9a2b69a4821b36187"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_read</b> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="separator:gaf2461189e6614fd9a2b69a4821b36187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7262b897e83232efbb7b73fff2d14519"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7262b897e83232efbb7b73fff2d14519"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_write</b> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="separator:ga7262b897e83232efbb7b73fff2d14519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7080a18acf6e820aec2d8e33e178d2ae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7080a18acf6e820aec2d8e33e178d2ae"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_fd_cb</b> (struct osmo_fd *ofd, unsigned int what)</td></tr>
<tr class="separator:ga7080a18acf6e820aec2d8e33e178d2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga866e541e96ee1f64d2b550e4d502be2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga866e541e96ee1f64d2b550e4d502be2c"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>cli_timer_cb</b> (void *data)</td></tr>
<tr class="separator:ga866e541e96ee1f64d2b550e4d502be2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8d25448c4d0137b794e2b40efc26f81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa8d25448c4d0137b794e2b40efc26f81"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_fd_cb</b> (struct osmo_fd *ofd, unsigned int what)</td></tr>
<tr class="separator:gaa8d25448c4d0137b794e2b40efc26f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaece198aea502c86c3c4447def631045a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaece198aea502c86c3c4447def631045a"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_read</b> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="separator:gaece198aea502c86c3c4447def631045a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga126a75cba64e9c2ea17dabf8c2126c9f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga126a75cba64e9c2ea17dabf8c2126c9f"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_write</b> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="separator:ga126a75cba64e9c2ea17dabf8c2126c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66f9ef624e3f777e0ed6dd7d7d480330"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga66f9ef624e3f777e0ed6dd7d7d480330"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_cb</b> (struct osmo_fd *ofd, unsigned int what)</td></tr>
<tr class="separator:ga66f9ef624e3f777e0ed6dd7d7d480330"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gabc297deef700516694f2eab8d4455113"><td class="memItemLeft" align="right" valign="top">static const struct value_string&#160;</td><td class="memItemRight" valign="bottom"><b>stream_cli_state_names</b> []</td></tr>
<tr class="separator:gabc297deef700516694f2eab8d4455113"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This code is intended to abstract any use of stream-type sockets, such as TCP and SCTP. It offers both server and client side implementations, fully integrated with the libosmocore select loop abstraction. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad217c1c1b83ac852e090afd49146db19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close an Osmocom Stream Client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Osmocom Stream Client to be closed We unregister the socket fd from the osmocom select() loop abstraction and close the socket </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__stream.html#ga2693c0cc5c6222dd9ed42c8c4bf8aec8">msgb_sctp_ppid</a>, <a class="el" href="group__stream.html#gac2c359892ad63309b59a4b402f6a3e81">msgb_sctp_stream</a>, and <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee">osmo_stream_cli_reconnect()</a>.</p>

<p>Referenced by <a class="el" href="group__stream.html#ga9d0dac2f390c660c85fa347765f4f45a">osmo_stream_cli_destroy()</a>, <a class="el" href="group__stream.html#ga86b4b9c8e563f8426d3cdae803e3ec38">osmo_stream_cli_open()</a>, <a class="el" href="group__stream.html#ga127866794591d16a0eb7244f2fe666ef">osmo_stream_cli_open2()</a>, and <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee">osmo_stream_cli_reconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1754a498abc27577a8e0b3b0f236c05b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> * osmo_stream_cli_create </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an Osmocom stream client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>talloc context from which to allocate memory This function allocates a new <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> and initializes it with default values (5s reconnect timer, TCP protocol) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9d0dac2f390c660c85fa347765f4f45a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a Osmocom stream client (includes close) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to destroy </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__stream.html#gad217c1c1b83ac852e090afd49146db19">osmo_stream_cli_close()</a>.</p>

</div>
</div>
<a class="anchor" id="ga606a53840677f3f5200887dc92f5de4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * osmo_stream_cli_get_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get application private data of the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Application private data, as set by <a class="el" href="group__stream.html#ga5e94c511d537f63337912bb50fb2dc28">osmo_stream_cli_set_data()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga0615daa4aac253a3d530f35fddbc68bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct osmo_fd * osmo_stream_cli_get_ofd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Osmocom File Descriptor of the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to osmo_fd </dd></dl>

</div>
</div>
<a class="anchor" id="gaecd148ae11f2f619aa52dd2900a15827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * osmo_stream_cli_get_sockname </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the stream client socket description. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to examine </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Socket description or NULL in case of error </dd></dl>

</div>
</div>
<a class="anchor" id="ga86b4b9c8e563f8426d3cdae803e3ec38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osmo_stream_cli_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open connection of an Osmocom stream client By default the client will automatically reconnect after default timeout. To disable this, use <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> before calling this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to connect </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__stream.html#gad217c1c1b83ac852e090afd49146db19">osmo_stream_cli_close()</a>, and <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee">osmo_stream_cli_reconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga127866794591d16a0eb7244f2fe666ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osmo_stream_cli_open2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reconnect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DEPRECATED: use <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> or <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee" title="Re-connect an Osmocom Stream Client If re-connection is enabled for this client (which is the case un...">osmo_stream_cli_reconnect()</a> instead! Open connection of an Osmocom stream client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to connect </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reconect</td><td>1 if we should not automatically reconnect </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__stream.html#gad217c1c1b83ac852e090afd49146db19">osmo_stream_cli_close()</a>, and <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee">osmo_stream_cli_reconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga06f9743c19068bb720a4949ae8467243"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osmo_stream_cli_recv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct msgb *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data via an Osmocom stream client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client through which we want to send </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">msg</td><td>pre-allocate message buffer to which received data is appended </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes read; &lt;=0 in case of error </dd></dl>

<p>References <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee">osmo_stream_cli_reconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="gaacf415b97e1184baadeee5c60387422b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct msgb *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueue data to be sent via an Osmocom stream client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client through which we want to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message buffer to enqueue in transmit queue </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0038e937cf0f36c59e0e3991523219a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_addr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the remote address to which we connect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Remote IP address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab588bfd88a3cc775875981e2ee66e295"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_connect_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)&#160;</td>
          <td class="paramname"><em>connect_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the call-back function called on connect of the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">connect_cb</td><td>Call-back function to be called upon connect </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5e94c511d537f63337912bb50fb2dc28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set application private data of the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>User-specific data (available in call-back functions) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga23e5c1799a8225607543de39a56ca449"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_disconnect_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)&#160;</td>
          <td class="paramname"><em>disconnect_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the call-back function called on disconnect of the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">disconnect_cb</td><td>Call-back function to be called upon disconnect </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga70420e7c664cc4c4e69ac4d3476e7f53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_local_addr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the local address for the socket (to be bound to) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Local host name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4d83e3cf7fdf7eb354c2015ff9bed98a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_local_port </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the local port number for the socket (to be bound to) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Local port number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa196e78db6ca32abb1473566b4f1b04b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_nodelay </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>nodelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the NODELAY socket option to avoid Nagle-like behavior Setting this to nodelay=true will automatically set the NODELAY socket option on any socket established via <a class="el" href="group__stream.html#ga86b4b9c8e563f8426d3cdae803e3ec38">osmo_stream_cli_open</a> or any re-connect. You have to set this <em>before</em> opening the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream client whose sockets are to be configured </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nodelay</td><td>whether to set (true) NODELAY before connect() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab8b9f65bebfeb83c6e33d102e9439770"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_port </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the remote port number to which we connect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Remote port number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga91d57aa94a370520540d7272af66a23b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_proto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>proto</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the protocol for the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">proto</td><td>Protocol (like IPPROTO_TCP (default), IPPROTO_SCTP, ...) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad1d1817f25694ea126779262cddf4fbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_read_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)&#160;</td>
          <td class="paramname"><em>read_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the call-back function called to read from the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_cb</td><td>Call-back function to be called when we want to read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gade74792afe35f31dd2584c888db3dd62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_cli_set_reconnect_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td>
          <td class="paramname"><em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the reconnect time of the stream client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cli</td><td>Stream Client to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Re-connect timeout in seconds or negative value to disable auto-reconnection </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga36df4fc3b268efbe4b4f02e51542d543"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> * osmo_stream_srv_create </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)&#160;</td>
          <td class="paramname"><em>closed_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a Stream Server inside the specified link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>talloc allocation context from which to allocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to which we belong </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Stream Server in case of success; NULL on error </dd></dl>

</div>
</div>
<a class="anchor" id="ga47f18e063f64f22cb74d58d8b7243bed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy given Stream Server This function closes the Stream Server socket, unregisters from select loop, invokes the connection's closed_cb() callback to allow API users to clean up any associated state they have for this connection, and then de-allocates associated memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server to be destroyed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae2a0ef01097d964c71e38600b4c078d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * osmo_stream_srv_get_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get application private data of the stream server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Application private data, as set by <a class="el" href="group__stream.html#ga9891663b20714d72f992e44ad1e92eea">osmo_stream_srv_set_data()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga9cf689935bf6ffac4f86f56219d73c8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> * osmo_stream_srv_get_master </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the master (Link) from a Stream Server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server of which we want to know the Link </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Link through which the given Stream Server is established </dd></dl>

</div>
</div>
<a class="anchor" id="ga47bbca4f12717db2e6158eefe6310b9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct osmo_fd * osmo_stream_srv_get_ofd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Osmocom File Descriptor of the stream server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to osmo_fd </dd></dl>

</div>
</div>
<a class="anchor" id="gad325d97b09c724e830c98d76b890520d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the stream server link and unregister from select loop Does not destroy the server link, merely closes it! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to close </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="group__stream.html#ga882acaaa5935422b0e09a2ce8c8019ec">osmo_stream_srv_link_destroy()</a>, and <a class="el" href="group__stream.html#ga603b89074d3e8c0fb44144ab1864f0d4">osmo_stream_srv_link_open()</a>.</p>

</div>
</div>
<a class="anchor" id="gaad262988c7ac365566f03843c560f892"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> * osmo_stream_srv_link_create </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an Osmocom Stream Server Link A Stream Server Link is the listen()+accept() "parent" to individual Stream Servers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>talloc allocation context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Stream Server Link with default values (TCP) </dd></dl>

</div>
</div>
<a class="anchor" id="ga882acaaa5935422b0e09a2ce8c8019ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the stream server link. Closes + Releases Memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__stream.html#gad325d97b09c724e830c98d76b890520d">osmo_stream_srv_link_close()</a>.</p>

</div>
</div>
<a class="anchor" id="gacb5d68c2a6a9663f99266c70747bce04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * osmo_stream_srv_link_get_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get application private data of the stream server link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Application private data, as set by <a class="el" href="group__stream.html#ga5e94c511d537f63337912bb50fb2dc28">osmo_stream_cli_set_data()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga7b8981351a154c357fcefd39c31ad42a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct osmo_fd * osmo_stream_srv_link_get_ofd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Osmocom File Descriptor of the stream server link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to osmo_fd </dd></dl>

</div>
</div>
<a class="anchor" id="ga7d7b6af7df24e90dc758a088bae6316d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * osmo_stream_srv_link_get_sockname </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get description of the stream server link e. g. 127.0.0.1:1234. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to examine </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Link description or NULL in case of error </dd></dl>

</div>
</div>
<a class="anchor" id="ga603b89074d3e8c0fb44144ab1864f0d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osmo_stream_srv_link_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the stream server link. This actually initializes the underlying socket and binds it to the configured ip/port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to open </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__stream.html#gad325d97b09c724e830c98d76b890520d">osmo_stream_srv_link_close()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1eea525d4e1e7a24c9c08881994ceb7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_set_accept_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, int fd)&#160;</td>
          <td class="paramname"><em>accept_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the accept() call-back of the stream server link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accept_cb</td><td>Call-back function executed upon accept() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacece90116484e34540def69b05c66f57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_set_addr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the local address to which we bind. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Local IP address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5ef0f0c85a52c08e8c10d36a8f44e392"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_set_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set application private data of the stream server link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>User-specific data (available in call-back functions) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga41e8ad2c761aaa00313aa11d1f29a3ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_set_nodelay </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>nodelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the NODELAY socket option to avoid Nagle-like behavior Setting this to nodelay=true will automatically set the NODELAY socket option on any socket established via this server link, before calling the accept_cb() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>server link whose sockets are to be configured </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nodelay</td><td>whether to set (true) NODELAY after accept </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga76bbbafd1d8dc9c9ebffd301503b6dd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_set_port </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the local port number to which we bind. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Local port number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2508987133a93863d2a50103004b0f36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_link_set_proto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>proto</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the protocol for the stream server link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>Stream Server Link to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">proto</td><td>Protocol (like IPPROTO_TCP (default), IPPROTO_SCTP, ...) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac86242c41223c525c770ff7e7515d83e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osmo_stream_srv_recv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct msgb *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data via Osmocom stream server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server from which to receive </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">msg</td><td>pre-allocate message buffer to which received data is appended </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes read, negative on error. </dd></dl>

<p>References <a class="el" href="group__stream.html#ga2693c0cc5c6222dd9ed42c8c4bf8aec8">msgb_sctp_ppid</a>, and <a class="el" href="group__stream.html#gac2c359892ad63309b59a4b402f6a3e81">msgb_sctp_stream</a>.</p>

</div>
</div>
<a class="anchor" id="gaa1589994cf6eab27742cafee6b7fb491"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct msgb *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueue data to be sent via an Osmocom stream server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server through which we want to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Message buffer to enqueue in transmit queue </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9891663b20714d72f992e44ad1e92eea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_set_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set application private data of the stream server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server to modify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>User-specific data (available in call-back functions) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8390ce6740e56eb22215e1c5805c95f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osmo_stream_srv_set_flush_and_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare to send out all pending messages on the connection's Tx queue and then automatically destroy the stream with <a class="el" href="group__stream.html#ga47f18e063f64f22cb74d58d8b7243bed" title="Destroy given Stream Server This function closes the Stream Server socket, unregisters from select lo...">osmo_stream_srv_destroy()</a>. This function disables queuing of new messages on the connection and also disables reception of new messages on the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Stream Server to modify </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gabc297deef700516694f2eab8d4455113"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct value_string stream_cli_state_names[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { STREAM_CLI_STATE_NONE,       <span class="stringliteral">&quot;      NONE&quot;</span> },</div><div class="line">        { STREAM_CLI_STATE_CONNECTING, <span class="stringliteral">&quot;CONNECTING&quot;</span> },</div><div class="line">        { STREAM_CLI_STATE_CONNECTED,  <span class="stringliteral">&quot; CONNECTED&quot;</span> },</div><div class="line">        { 0, NULL }</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 1 2019 23:37:09 for libosmo-netif by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
