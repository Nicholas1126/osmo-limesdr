<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libosmo-netif: src/stream.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libosmo-netif
   &#160;<span id="projectnumber">0.4.0.25-e380</span>
   </div>
   <div id="projectbrief">Osmocom network interface library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('stream_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stream.c File Reference<div class="ingroups"><a class="el" href="group__stream.html">Osmocom Stream Socket</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Osmocom stream socket helpers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;sys/fcntl.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;netinet/tcp.h&gt;</code><br />
<code>#include &lt;osmocom/core/timer.h&gt;</code><br />
<code>#include &lt;osmocom/core/select.h&gt;</code><br />
<code>#include &lt;osmocom/core/utils.h&gt;</code><br />
<code>#include &lt;osmocom/gsm/tlv.h&gt;</code><br />
<code>#include &lt;osmocom/core/msgb.h&gt;</code><br />
<code>#include &lt;osmocom/core/logging.h&gt;</code><br />
<code>#include &lt;osmocom/core/talloc.h&gt;</code><br />
<code>#include &lt;osmocom/core/socket.h&gt;</code><br />
<code>#include &lt;osmocom/netif/stream.h&gt;</code><br />
<code>#include &quot;config.h&quot;</code><br />
<code>#include &lt;netinet/sctp.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a93406b98c0c2fa90d3d12b13d5bd63ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93406b98c0c2fa90d3d12b13d5bd63ac"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOGSCLI</b>(cli,  level,  fmt,  args...)&#160;&#160;&#160;LOGP(DLINP, level, &quot;[%s] %s(): &quot; fmt, get_value_string(stream_cli_state_names, (cli)-&gt;state), __func__, ## args)</td></tr>
<tr class="separator:a93406b98c0c2fa90d3d12b13d5bd63ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f55d0e90dc8cc6b2287312435cdde48"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSG_NOSIGNAL</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga9f55d0e90dc8cc6b2287312435cdde48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae24e1d7bb86fa7bd90b7f38e0c686119"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_CLI_F_RECONF</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:gae24e1d7bb86fa7bd90b7f38e0c686119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccd8b711532f890d484fb9099f555855"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_CLI_F_NODELAY</b>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:gaccd8b711532f890d484fb9099f555855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1646f040c66d93634755e299dee3ec2"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_SRV_F_RECONF</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:gaf1646f040c66d93634755e299dee3ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeec66e7d4031dc9606558e6692a805ba"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_SRV_F_NODELAY</b>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:gaeec66e7d4031dc9606558e6692a805ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ef7f446bbf20daa6188bdaade5b2e94"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OSMO_STREAM_SRV_F_FLUSH_DESTROY</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:ga3ef7f446bbf20daa6188bdaade5b2e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaefb240abea020971d9a384b5e39826e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaefb240abea020971d9a384b5e39826e5"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_state</b> { <b>STREAM_CLI_STATE_NONE</b> = 0, 
<b>STREAM_CLI_STATE_CONNECTING</b> = 1, 
<b>STREAM_CLI_STATE_CONNECTED</b> = 2, 
<b>STREAM_CLI_STATE_MAX</b>
 }</td></tr>
<tr class="separator:gaefb240abea020971d9a384b5e39826e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga050d8271074ad3dd37e8014fe287776f"><td class="memItemLeft" align="right" valign="top">
static int&#160;</td><td class="memItemRight" valign="bottom"><b>sctp_sock_activate_events</b> (int fd)</td></tr>
<tr class="separator:ga050d8271074ad3dd37e8014fe287776f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2b1fa9b64847bc68c83fae9a92d737d"><td class="memItemLeft" align="right" valign="top">
static int&#160;</td><td class="memItemRight" valign="bottom"><b>setsockopt_nodelay</b> (int fd, int proto, int on)</td></tr>
<tr class="separator:gaa2b1fa9b64847bc68c83fae9a92d737d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad217c1c1b83ac852e090afd49146db19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gad217c1c1b83ac852e090afd49146db19">osmo_stream_cli_close</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:gad217c1c1b83ac852e090afd49146db19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an Osmocom Stream Client.  <a href="group__stream.html#gad217c1c1b83ac852e090afd49146db19">More...</a><br /></td></tr>
<tr class="separator:gad217c1c1b83ac852e090afd49146db19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11d2615f6197f33073ba7245e5ba95ee"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee">osmo_stream_cli_reconnect</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga11d2615f6197f33073ba7245e5ba95ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-connect an Osmocom Stream Client If re-connection is enabled for this client (which is the case unless negative timeout was explicitly set via <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> call), we close any existing connection (if any) and schedule a re-connect timer. <br /></td></tr>
<tr class="separator:ga11d2615f6197f33073ba7245e5ba95ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2461189e6614fd9a2b69a4821b36187"><td class="memItemLeft" align="right" valign="top">
static void&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_read</b> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="separator:gaf2461189e6614fd9a2b69a4821b36187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7262b897e83232efbb7b73fff2d14519"><td class="memItemLeft" align="right" valign="top">
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_write</b> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="separator:ga7262b897e83232efbb7b73fff2d14519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7080a18acf6e820aec2d8e33e178d2ae"><td class="memItemLeft" align="right" valign="top">
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_cli_fd_cb</b> (struct osmo_fd *ofd, unsigned int what)</td></tr>
<tr class="separator:ga7080a18acf6e820aec2d8e33e178d2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga866e541e96ee1f64d2b550e4d502be2c"><td class="memItemLeft" align="right" valign="top">
static void&#160;</td><td class="memItemRight" valign="bottom"><b>cli_timer_cb</b> (void *data)</td></tr>
<tr class="separator:ga866e541e96ee1f64d2b550e4d502be2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1754a498abc27577a8e0b3b0f236c05b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga1754a498abc27577a8e0b3b0f236c05b">osmo_stream_cli_create</a> (void *ctx)</td></tr>
<tr class="memdesc:ga1754a498abc27577a8e0b3b0f236c05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an Osmocom stream client.  <a href="group__stream.html#ga1754a498abc27577a8e0b3b0f236c05b">More...</a><br /></td></tr>
<tr class="separator:ga1754a498abc27577a8e0b3b0f236c05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0038e937cf0f36c59e0e3991523219a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga0038e937cf0f36c59e0e3991523219a1">osmo_stream_cli_set_addr</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, const char *addr)</td></tr>
<tr class="memdesc:ga0038e937cf0f36c59e0e3991523219a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the remote address to which we connect.  <a href="group__stream.html#ga0038e937cf0f36c59e0e3991523219a1">More...</a><br /></td></tr>
<tr class="separator:ga0038e937cf0f36c59e0e3991523219a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8b9f65bebfeb83c6e33d102e9439770"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gab8b9f65bebfeb83c6e33d102e9439770">osmo_stream_cli_set_port</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, uint16_t port)</td></tr>
<tr class="memdesc:gab8b9f65bebfeb83c6e33d102e9439770"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the remote port number to which we connect.  <a href="group__stream.html#gab8b9f65bebfeb83c6e33d102e9439770">More...</a><br /></td></tr>
<tr class="separator:gab8b9f65bebfeb83c6e33d102e9439770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d83e3cf7fdf7eb354c2015ff9bed98a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga4d83e3cf7fdf7eb354c2015ff9bed98a">osmo_stream_cli_set_local_port</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, uint16_t port)</td></tr>
<tr class="memdesc:ga4d83e3cf7fdf7eb354c2015ff9bed98a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local port number for the socket (to be bound to)  <a href="group__stream.html#ga4d83e3cf7fdf7eb354c2015ff9bed98a">More...</a><br /></td></tr>
<tr class="separator:ga4d83e3cf7fdf7eb354c2015ff9bed98a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70420e7c664cc4c4e69ac4d3476e7f53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga70420e7c664cc4c4e69ac4d3476e7f53">osmo_stream_cli_set_local_addr</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, const char *addr)</td></tr>
<tr class="memdesc:ga70420e7c664cc4c4e69ac4d3476e7f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local address for the socket (to be bound to)  <a href="group__stream.html#ga70420e7c664cc4c4e69ac4d3476e7f53">More...</a><br /></td></tr>
<tr class="separator:ga70420e7c664cc4c4e69ac4d3476e7f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91d57aa94a370520540d7272af66a23b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga91d57aa94a370520540d7272af66a23b">osmo_stream_cli_set_proto</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, uint16_t proto)</td></tr>
<tr class="memdesc:ga91d57aa94a370520540d7272af66a23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the protocol for the stream client socket.  <a href="group__stream.html#ga91d57aa94a370520540d7272af66a23b">More...</a><br /></td></tr>
<tr class="separator:ga91d57aa94a370520540d7272af66a23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade74792afe35f31dd2584c888db3dd62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62">osmo_stream_cli_set_reconnect_timeout</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int timeout)</td></tr>
<tr class="memdesc:gade74792afe35f31dd2584c888db3dd62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the reconnect time of the stream client socket.  <a href="group__stream.html#gade74792afe35f31dd2584c888db3dd62">More...</a><br /></td></tr>
<tr class="separator:gade74792afe35f31dd2584c888db3dd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e94c511d537f63337912bb50fb2dc28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga5e94c511d537f63337912bb50fb2dc28">osmo_stream_cli_set_data</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, void *data)</td></tr>
<tr class="memdesc:ga5e94c511d537f63337912bb50fb2dc28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set application private data of the stream client socket.  <a href="group__stream.html#ga5e94c511d537f63337912bb50fb2dc28">More...</a><br /></td></tr>
<tr class="separator:ga5e94c511d537f63337912bb50fb2dc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga606a53840677f3f5200887dc92f5de4d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga606a53840677f3f5200887dc92f5de4d">osmo_stream_cli_get_data</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga606a53840677f3f5200887dc92f5de4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get application private data of the stream client socket.  <a href="group__stream.html#ga606a53840677f3f5200887dc92f5de4d">More...</a><br /></td></tr>
<tr class="separator:ga606a53840677f3f5200887dc92f5de4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecd148ae11f2f619aa52dd2900a15827"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaecd148ae11f2f619aa52dd2900a15827">osmo_stream_cli_get_sockname</a> (const struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:gaecd148ae11f2f619aa52dd2900a15827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the stream client socket description.  <a href="group__stream.html#gaecd148ae11f2f619aa52dd2900a15827">More...</a><br /></td></tr>
<tr class="separator:gaecd148ae11f2f619aa52dd2900a15827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0615daa4aac253a3d530f35fddbc68bd"><td class="memItemLeft" align="right" valign="top">struct osmo_fd *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga0615daa4aac253a3d530f35fddbc68bd">osmo_stream_cli_get_ofd</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga0615daa4aac253a3d530f35fddbc68bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Osmocom File Descriptor of the stream client socket.  <a href="group__stream.html#ga0615daa4aac253a3d530f35fddbc68bd">More...</a><br /></td></tr>
<tr class="separator:ga0615daa4aac253a3d530f35fddbc68bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab588bfd88a3cc775875981e2ee66e295"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gab588bfd88a3cc775875981e2ee66e295">osmo_stream_cli_set_connect_cb</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int(*connect_cb)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli))</td></tr>
<tr class="memdesc:gab588bfd88a3cc775875981e2ee66e295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the call-back function called on connect of the stream client socket.  <a href="group__stream.html#gab588bfd88a3cc775875981e2ee66e295">More...</a><br /></td></tr>
<tr class="separator:gab588bfd88a3cc775875981e2ee66e295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23e5c1799a8225607543de39a56ca449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga23e5c1799a8225607543de39a56ca449">osmo_stream_cli_set_disconnect_cb</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int(*disconnect_cb)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli))</td></tr>
<tr class="memdesc:ga23e5c1799a8225607543de39a56ca449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the call-back function called on disconnect of the stream client socket.  <a href="group__stream.html#ga23e5c1799a8225607543de39a56ca449">More...</a><br /></td></tr>
<tr class="separator:ga23e5c1799a8225607543de39a56ca449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1d1817f25694ea126779262cddf4fbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gad1d1817f25694ea126779262cddf4fbd">osmo_stream_cli_set_read_cb</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int(*read_cb)(struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli))</td></tr>
<tr class="memdesc:gad1d1817f25694ea126779262cddf4fbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the call-back function called to read from the stream client socket.  <a href="group__stream.html#gad1d1817f25694ea126779262cddf4fbd">More...</a><br /></td></tr>
<tr class="separator:gad1d1817f25694ea126779262cddf4fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d0dac2f390c660c85fa347765f4f45a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga9d0dac2f390c660c85fa347765f4f45a">osmo_stream_cli_destroy</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga9d0dac2f390c660c85fa347765f4f45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a Osmocom stream client (includes close)  <a href="group__stream.html#ga9d0dac2f390c660c85fa347765f4f45a">More...</a><br /></td></tr>
<tr class="separator:ga9d0dac2f390c660c85fa347765f4f45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga127866794591d16a0eb7244f2fe666ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga127866794591d16a0eb7244f2fe666ef">osmo_stream_cli_open2</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, int reconnect)</td></tr>
<tr class="memdesc:ga127866794591d16a0eb7244f2fe666ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">DEPRECATED: use <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> or <a class="el" href="group__stream.html#ga11d2615f6197f33073ba7245e5ba95ee" title="Re-connect an Osmocom Stream Client If re-connection is enabled for this client (which is the case un...">osmo_stream_cli_reconnect()</a> instead! Open connection of an Osmocom stream client.  <a href="group__stream.html#ga127866794591d16a0eb7244f2fe666ef">More...</a><br /></td></tr>
<tr class="separator:ga127866794591d16a0eb7244f2fe666ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa196e78db6ca32abb1473566b4f1b04b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaa196e78db6ca32abb1473566b4f1b04b">osmo_stream_cli_set_nodelay</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, bool nodelay)</td></tr>
<tr class="memdesc:gaa196e78db6ca32abb1473566b4f1b04b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the NODELAY socket option to avoid Nagle-like behavior Setting this to nodelay=true will automatically set the NODELAY socket option on any socket established via <a class="el" href="group__stream.html#ga86b4b9c8e563f8426d3cdae803e3ec38">osmo_stream_cli_open</a> or any re-connect. You have to set this <em>before</em> opening the socket.  <a href="group__stream.html#gaa196e78db6ca32abb1473566b4f1b04b">More...</a><br /></td></tr>
<tr class="separator:gaa196e78db6ca32abb1473566b4f1b04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86b4b9c8e563f8426d3cdae803e3ec38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga86b4b9c8e563f8426d3cdae803e3ec38">osmo_stream_cli_open</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli)</td></tr>
<tr class="memdesc:ga86b4b9c8e563f8426d3cdae803e3ec38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open connection of an Osmocom stream client By default the client will automatically reconnect after default timeout. To disable this, use <a class="el" href="group__stream.html#gade74792afe35f31dd2584c888db3dd62" title="Set the reconnect time of the stream client socket. ">osmo_stream_cli_set_reconnect_timeout()</a> before calling this function.  <a href="group__stream.html#ga86b4b9c8e563f8426d3cdae803e3ec38">More...</a><br /></td></tr>
<tr class="separator:ga86b4b9c8e563f8426d3cdae803e3ec38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacf415b97e1184baadeee5c60387422b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaacf415b97e1184baadeee5c60387422b">osmo_stream_cli_send</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, struct msgb *msg)</td></tr>
<tr class="memdesc:gaacf415b97e1184baadeee5c60387422b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue data to be sent via an Osmocom stream client.  <a href="group__stream.html#gaacf415b97e1184baadeee5c60387422b">More...</a><br /></td></tr>
<tr class="separator:gaacf415b97e1184baadeee5c60387422b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06f9743c19068bb720a4949ae8467243"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga06f9743c19068bb720a4949ae8467243">osmo_stream_cli_recv</a> (struct <a class="el" href="structosmo__stream__cli.html">osmo_stream_cli</a> *cli, struct msgb *msg)</td></tr>
<tr class="memdesc:ga06f9743c19068bb720a4949ae8467243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data via an Osmocom stream client.  <a href="group__stream.html#ga06f9743c19068bb720a4949ae8467243">More...</a><br /></td></tr>
<tr class="separator:ga06f9743c19068bb720a4949ae8467243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8d25448c4d0137b794e2b40efc26f81"><td class="memItemLeft" align="right" valign="top">
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_fd_cb</b> (struct osmo_fd *ofd, unsigned int what)</td></tr>
<tr class="separator:gaa8d25448c4d0137b794e2b40efc26f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad262988c7ac365566f03843c560f892"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaad262988c7ac365566f03843c560f892">osmo_stream_srv_link_create</a> (void *ctx)</td></tr>
<tr class="memdesc:gaad262988c7ac365566f03843c560f892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an Osmocom Stream Server Link A Stream Server Link is the listen()+accept() "parent" to individual Stream Servers.  <a href="group__stream.html#gaad262988c7ac365566f03843c560f892">More...</a><br /></td></tr>
<tr class="separator:gaad262988c7ac365566f03843c560f892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41e8ad2c761aaa00313aa11d1f29a3ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga41e8ad2c761aaa00313aa11d1f29a3ed">osmo_stream_srv_link_set_nodelay</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, bool nodelay)</td></tr>
<tr class="memdesc:ga41e8ad2c761aaa00313aa11d1f29a3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the NODELAY socket option to avoid Nagle-like behavior Setting this to nodelay=true will automatically set the NODELAY socket option on any socket established via this server link, before calling the accept_cb()  <a href="group__stream.html#ga41e8ad2c761aaa00313aa11d1f29a3ed">More...</a><br /></td></tr>
<tr class="separator:ga41e8ad2c761aaa00313aa11d1f29a3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacece90116484e34540def69b05c66f57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gacece90116484e34540def69b05c66f57">osmo_stream_srv_link_set_addr</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, const char *addr)</td></tr>
<tr class="memdesc:gacece90116484e34540def69b05c66f57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local address to which we bind.  <a href="group__stream.html#gacece90116484e34540def69b05c66f57">More...</a><br /></td></tr>
<tr class="separator:gacece90116484e34540def69b05c66f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76bbbafd1d8dc9c9ebffd301503b6dd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga76bbbafd1d8dc9c9ebffd301503b6dd9">osmo_stream_srv_link_set_port</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, uint16_t port)</td></tr>
<tr class="memdesc:ga76bbbafd1d8dc9c9ebffd301503b6dd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local port number to which we bind.  <a href="group__stream.html#ga76bbbafd1d8dc9c9ebffd301503b6dd9">More...</a><br /></td></tr>
<tr class="separator:ga76bbbafd1d8dc9c9ebffd301503b6dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2508987133a93863d2a50103004b0f36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga2508987133a93863d2a50103004b0f36">osmo_stream_srv_link_set_proto</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, uint16_t proto)</td></tr>
<tr class="memdesc:ga2508987133a93863d2a50103004b0f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the protocol for the stream server link.  <a href="group__stream.html#ga2508987133a93863d2a50103004b0f36">More...</a><br /></td></tr>
<tr class="separator:ga2508987133a93863d2a50103004b0f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ef0f0c85a52c08e8c10d36a8f44e392"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga5ef0f0c85a52c08e8c10d36a8f44e392">osmo_stream_srv_link_set_data</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, void *data)</td></tr>
<tr class="memdesc:ga5ef0f0c85a52c08e8c10d36a8f44e392"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set application private data of the stream server link.  <a href="group__stream.html#ga5ef0f0c85a52c08e8c10d36a8f44e392">More...</a><br /></td></tr>
<tr class="separator:ga5ef0f0c85a52c08e8c10d36a8f44e392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb5d68c2a6a9663f99266c70747bce04"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gacb5d68c2a6a9663f99266c70747bce04">osmo_stream_srv_link_get_data</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:gacb5d68c2a6a9663f99266c70747bce04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get application private data of the stream server link.  <a href="group__stream.html#gacb5d68c2a6a9663f99266c70747bce04">More...</a><br /></td></tr>
<tr class="separator:gacb5d68c2a6a9663f99266c70747bce04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d7b6af7df24e90dc758a088bae6316d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga7d7b6af7df24e90dc758a088bae6316d">osmo_stream_srv_link_get_sockname</a> (const struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga7d7b6af7df24e90dc758a088bae6316d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get description of the stream server link e. g. 127.0.0.1:1234.  <a href="group__stream.html#ga7d7b6af7df24e90dc758a088bae6316d">More...</a><br /></td></tr>
<tr class="separator:ga7d7b6af7df24e90dc758a088bae6316d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b8981351a154c357fcefd39c31ad42a"><td class="memItemLeft" align="right" valign="top">struct osmo_fd *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga7b8981351a154c357fcefd39c31ad42a">osmo_stream_srv_link_get_ofd</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga7b8981351a154c357fcefd39c31ad42a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Osmocom File Descriptor of the stream server link.  <a href="group__stream.html#ga7b8981351a154c357fcefd39c31ad42a">More...</a><br /></td></tr>
<tr class="separator:ga7b8981351a154c357fcefd39c31ad42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1eea525d4e1e7a24c9c08881994ceb7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga1eea525d4e1e7a24c9c08881994ceb7e">osmo_stream_srv_link_set_accept_cb</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, int(*accept_cb)(struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, int fd))</td></tr>
<tr class="memdesc:ga1eea525d4e1e7a24c9c08881994ceb7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the accept() call-back of the stream server link.  <a href="group__stream.html#ga1eea525d4e1e7a24c9c08881994ceb7e">More...</a><br /></td></tr>
<tr class="separator:ga1eea525d4e1e7a24c9c08881994ceb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga882acaaa5935422b0e09a2ce8c8019ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga882acaaa5935422b0e09a2ce8c8019ec">osmo_stream_srv_link_destroy</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga882acaaa5935422b0e09a2ce8c8019ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the stream server link. Closes + Releases Memory.  <a href="group__stream.html#ga882acaaa5935422b0e09a2ce8c8019ec">More...</a><br /></td></tr>
<tr class="separator:ga882acaaa5935422b0e09a2ce8c8019ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga603b89074d3e8c0fb44144ab1864f0d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga603b89074d3e8c0fb44144ab1864f0d4">osmo_stream_srv_link_open</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:ga603b89074d3e8c0fb44144ab1864f0d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the stream server link. This actually initializes the underlying socket and binds it to the configured ip/port.  <a href="group__stream.html#ga603b89074d3e8c0fb44144ab1864f0d4">More...</a><br /></td></tr>
<tr class="separator:ga603b89074d3e8c0fb44144ab1864f0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad325d97b09c724e830c98d76b890520d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gad325d97b09c724e830c98d76b890520d">osmo_stream_srv_link_close</a> (struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link)</td></tr>
<tr class="memdesc:gad325d97b09c724e830c98d76b890520d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the stream server link and unregister from select loop Does not destroy the server link, merely closes it!  <a href="group__stream.html#gad325d97b09c724e830c98d76b890520d">More...</a><br /></td></tr>
<tr class="separator:gad325d97b09c724e830c98d76b890520d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaece198aea502c86c3c4447def631045a"><td class="memItemLeft" align="right" valign="top">
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_read</b> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="separator:gaece198aea502c86c3c4447def631045a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga126a75cba64e9c2ea17dabf8c2126c9f"><td class="memItemLeft" align="right" valign="top">
static void&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_write</b> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="separator:ga126a75cba64e9c2ea17dabf8c2126c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66f9ef624e3f777e0ed6dd7d7d480330"><td class="memItemLeft" align="right" valign="top">
static int&#160;</td><td class="memItemRight" valign="bottom"><b>osmo_stream_srv_cb</b> (struct osmo_fd *ofd, unsigned int what)</td></tr>
<tr class="separator:ga66f9ef624e3f777e0ed6dd7d7d480330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36df4fc3b268efbe4b4f02e51542d543"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga36df4fc3b268efbe4b4f02e51542d543">osmo_stream_srv_create</a> (void *ctx, struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *link, int fd, int(*cb)(struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn), int(*closed_cb)(struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn), void *data)</td></tr>
<tr class="memdesc:ga36df4fc3b268efbe4b4f02e51542d543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Stream Server inside the specified link.  <a href="group__stream.html#ga36df4fc3b268efbe4b4f02e51542d543">More...</a><br /></td></tr>
<tr class="separator:ga36df4fc3b268efbe4b4f02e51542d543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8390ce6740e56eb22215e1c5805c95f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga8390ce6740e56eb22215e1c5805c95f1">osmo_stream_srv_set_flush_and_destroy</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga8390ce6740e56eb22215e1c5805c95f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare to send out all pending messages on the connection's Tx queue and then automatically destroy the stream with <a class="el" href="group__stream.html#ga47f18e063f64f22cb74d58d8b7243bed" title="Destroy given Stream Server This function closes the Stream Server socket, unregisters from select lo...">osmo_stream_srv_destroy()</a>. This function disables queuing of new messages on the connection and also disables reception of new messages on the connection.  <a href="group__stream.html#ga8390ce6740e56eb22215e1c5805c95f1">More...</a><br /></td></tr>
<tr class="separator:ga8390ce6740e56eb22215e1c5805c95f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9891663b20714d72f992e44ad1e92eea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga9891663b20714d72f992e44ad1e92eea">osmo_stream_srv_set_data</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn, void *data)</td></tr>
<tr class="memdesc:ga9891663b20714d72f992e44ad1e92eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set application private data of the stream server.  <a href="group__stream.html#ga9891663b20714d72f992e44ad1e92eea">More...</a><br /></td></tr>
<tr class="separator:ga9891663b20714d72f992e44ad1e92eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2a0ef01097d964c71e38600b4c078d5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gae2a0ef01097d964c71e38600b4c078d5">osmo_stream_srv_get_data</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:gae2a0ef01097d964c71e38600b4c078d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get application private data of the stream server.  <a href="group__stream.html#gae2a0ef01097d964c71e38600b4c078d5">More...</a><br /></td></tr>
<tr class="separator:gae2a0ef01097d964c71e38600b4c078d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47bbca4f12717db2e6158eefe6310b9b"><td class="memItemLeft" align="right" valign="top">struct osmo_fd *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga47bbca4f12717db2e6158eefe6310b9b">osmo_stream_srv_get_ofd</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga47bbca4f12717db2e6158eefe6310b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Osmocom File Descriptor of the stream server.  <a href="group__stream.html#ga47bbca4f12717db2e6158eefe6310b9b">More...</a><br /></td></tr>
<tr class="separator:ga47bbca4f12717db2e6158eefe6310b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cf689935bf6ffac4f86f56219d73c8e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosmo__stream__srv__link.html">osmo_stream_srv_link</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga9cf689935bf6ffac4f86f56219d73c8e">osmo_stream_srv_get_master</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga9cf689935bf6ffac4f86f56219d73c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the master (Link) from a Stream Server.  <a href="group__stream.html#ga9cf689935bf6ffac4f86f56219d73c8e">More...</a><br /></td></tr>
<tr class="separator:ga9cf689935bf6ffac4f86f56219d73c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47f18e063f64f22cb74d58d8b7243bed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#ga47f18e063f64f22cb74d58d8b7243bed">osmo_stream_srv_destroy</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn)</td></tr>
<tr class="memdesc:ga47f18e063f64f22cb74d58d8b7243bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy given Stream Server This function closes the Stream Server socket, unregisters from select loop, invokes the connection's closed_cb() callback to allow API users to clean up any associated state they have for this connection, and then de-allocates associated memory.  <a href="group__stream.html#ga47f18e063f64f22cb74d58d8b7243bed">More...</a><br /></td></tr>
<tr class="separator:ga47f18e063f64f22cb74d58d8b7243bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1589994cf6eab27742cafee6b7fb491"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gaa1589994cf6eab27742cafee6b7fb491">osmo_stream_srv_send</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn, struct msgb *msg)</td></tr>
<tr class="memdesc:gaa1589994cf6eab27742cafee6b7fb491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue data to be sent via an Osmocom stream server.  <a href="group__stream.html#gaa1589994cf6eab27742cafee6b7fb491">More...</a><br /></td></tr>
<tr class="separator:gaa1589994cf6eab27742cafee6b7fb491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac86242c41223c525c770ff7e7515d83e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream.html#gac86242c41223c525c770ff7e7515d83e">osmo_stream_srv_recv</a> (struct <a class="el" href="structosmo__stream__srv.html">osmo_stream_srv</a> *conn, struct msgb *msg)</td></tr>
<tr class="memdesc:gac86242c41223c525c770ff7e7515d83e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data via Osmocom stream server.  <a href="group__stream.html#gac86242c41223c525c770ff7e7515d83e">More...</a><br /></td></tr>
<tr class="separator:gac86242c41223c525c770ff7e7515d83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gabc297deef700516694f2eab8d4455113"><td class="memItemLeft" align="right" valign="top">static const struct value_string&#160;</td><td class="memItemRight" valign="bottom"><b>stream_cli_state_names</b> []</td></tr>
<tr class="separator:gabc297deef700516694f2eab8d4455113"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Osmocom stream socket helpers. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="stream_8c.html">stream.c</a></li>
    <li class="footer">Generated on Wed May 1 2019 23:37:09 for libosmo-netif by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
